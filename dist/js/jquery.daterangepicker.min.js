/*
jquery-date-range-picker - v0.0.5
Description: jQuery Date Range Picker is a jQuery plugin that allows user to select a date range.
Update: 2015-03-16 11:40:30
*/
!function(a){if("function"==typeof define&&define.amd)define(["jquery"],a);else if("object"==typeof exports&&"object"==typeof module)a(require("jquery"));else{if(!jQuery||jQuery.fn.dateRangePicker)throw new Error("Not found jQuery.");a(jQuery)}}(function(a){return a.dateRangePickerLanguages={az:{selected:"Seçildi:",day:" gün",days:" gün",apply:"tətbiq","week-1":"1","week-2":"2","week-3":"3","week-4":"4","week-5":"5","week-6":"6","week-7":"7","month-name":["Yanvar","Fevral","Mart","Aprel","May","İyun","İyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],shortcuts:"Qısayollar",past:"Keçmiş",following:"Növbəti",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"Öncəki həftə","prev-month":"Öncəki ay","prev-year":"Öncəki il",next:"&nbsp;&nbsp;&nbsp;","next-week":"Növbəti həftə","next-month":"Növbəti ay","next-year":"Növbəti il","less-than":"Tarix aralığı %d gündən çox olmamalıdır","more-than":"Tarix aralığı %d gündən az olmamalıdır","default-more":"%d gündən çox bir tarix seçin","default-single":"Tarix seçin","default-less":"%d gündən az bir tarix seçin","default-range":"%d və %d gün aralığında tarixlər seçin","default-default":"Tarix aralığı seçin"},cn:{selected:"已选择:",day:"天",days:"天",apply:"确定","week-1":"一","week-2":"二","week-3":"三","week-4":"四","week-5":"五","week-6":"六","week-7":"日","month-name":["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortcuts:"快捷选择",past:"过去",following:"将来",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"上周","prev-month":"上个月","prev-year":"去年",next:"&nbsp;&nbsp;&nbsp;","next-week":"下周","next-month":"下个月","next-year":"明年","less-than":"所选日期范围不能大于%d天","more-than":"所选日期范围不能小于%d天","default-more":"请选择大于%d天的日期范围","default-less":"请选择小于%d天的日期范围","default-range":"请选择%d天到%d天的日期范围","default-single":"请选择一个日期","default-default":"请选择一个日期范围"},en:{selected:"Selected:",day:"Day",days:"Days",apply:"Close","week-1":"MO","week-2":"TU","week-3":"WE","week-4":"TH","week-5":"FR","week-6":"SA","week-7":"SU","month-name":["JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER"],shortcuts:"Shortcuts",past:"Past",following:"Following",previous:"Previous","prev-week":"Week","prev-month":"Month","prev-year":"Year",next:"Next","next-week":"Week","next-month":"Month","next-year":"Year","less-than":"Date range should not be more than %d days","more-than":"Date range should not be less than %d days","default-more":"Please select a date range longer than %d days","default-single":"Please select a date","default-less":"Please select a date range less than %d days","default-range":"Please select a date range between %d and %d days","default-default":"Please select a date range"},cz:{selected:"Vybráno:",day:"Den",days:"Dny",apply:"Zavřít","week-1":"Po","week-2":"Út","week-3":"St","week-4":"Čt","week-5":"Pá","week-6":"So","week-7":"Ne","month-name":["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],shortcuts:"Zkratky",past:"po",following:"následující",previous:"předchozí","prev-week":"týden","prev-month":"měsíc","prev-year":"rok",next:"další","next-week":"týden","next-month":"měsíc","next-year":"rok","less-than":"Rozsah data by neměl být větší než %d dnů","more-than":"Rozsah data by neměl být menší než %d dnů","default-more":"Prosím zvolte rozsah data větší než %d dnů","default-single":"Prosím zvolte datum","default-less":"Prosím zvolte rozsah data menší než %d dnů","default-range":"Prosím zvolte rozsah data mezi %d a %d dny","default-default":"Prosím zvolte rozsah data"},it:{selected:"Selezionati:",day:"Giorno",days:"Giorni",apply:"Chiudi","week-1":"LU","week-2":"MA","week-3":"ME","week-4":"GI","week-5":"VE","week-6":"SA","week-7":"DO","month-name":["GENNAIO","FEBBRAIO","MARZO","APRILE","MAGGIO","GIUGNO","LUGLIO","AGOSTO","SETTEMBRE","OTTOBRE","NOVEMBRE","DICEMBRE"],shortcuts:"Scorciatoie",past:"Scorso",following:"Successivo",previous:"Precedente","prev-week":"Settimana","prev-month":"Mese","prev-year":"Anno",next:"Prossimo","next-week":"Settimana","next-month":"Mese","next-year":"Anno","less-than":"L'intervallo non dev'essere maggiore di %d giorni","more-than":"L'intervallo non dev'essere minore di %d giorni","default-more":"Seleziona un intervallo maggiore di %d giorni","default-single":"Seleziona una data","default-less":"Seleziona un intervallo minore di %d giorni","default-range":"Seleziona un intervallo compreso tra i %d e i %d giorni","default-default":"Seleziona un intervallo di date"},es:{selected:"Seleccionado:",day:"Dia",days:"Dias",apply:"Cerrar","week-1":"LU","week-2":"MA","week-3":"MI","week-4":"JU","week-5":"VI","week-6":"SA","week-7":"DO","month-name":["ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SEPTIEMBRE","OCTUBRE","NOVIEMBRE","DICIEMBRE"],shortcuts:"Accesos directos",past:"Pasado",following:"Siguiente",previous:"Anterior","prev-week":"Semana","prev-month":"Mes","prev-year":"Año",next:"Siguiente","next-week":"Semana","next-month":"Mes","next-year":"Año","less-than":"El rango no deberia ser mayor de %d dias","more-than":"El rango no deberia ser menor de %d dias","default-more":"Por favor selecciona un rango mayor a %d dias","default-single":"Por favor selecciona un dia","default-less":"Por favor selecciona un rango menor a %d dias","default-range":"Por favor selecciona un rango entre %d y %d dias","default-default":"Por favor selecciona un rango de fechas."},de:{selected:"Auswahl:",day:"Tag",days:"Tage",apply:"Schließen","week-1":"MO","week-2":"DI","week-3":"MI","week-4":"DO","week-5":"FR","week-6":"SA","week-7":"SO","month-name":["JANUAR","FEBRUAR","MÄRZ","APRIL","MAI","JUNI","JULI","AUGUST","SEPTEMBER","OKTOBER","NOVEMBER","DEZEMBER"],shortcuts:"Schnellwahl",past:"Vorherige",following:"Folgende",previous:"Vorherige","prev-week":"Woche","prev-month":"Monat","prev-year":"Jahr",next:"Nächste","next-week":"Woche","next-month":"Monat","next-year":"Jahr","less-than":"Datumsbereich darf nicht größer sein als %d Tage","more-than":"Datumsbereich darf nicht kleiner sein als %d Tage","default-more":"Bitte mindestens %d Tage auswählen","default-single":"Bitte ein Datum auswählen","default-less":"Bitte weniger als %d Tage auswählen","default-range":"Bitte einen Datumsbereich zwischen %d und %d Tagen auswählen","default-default":"Bitte ein Start- und Enddatum auswählen"},ru:{selected:"Выбрано:",day:"День",days:"Дней",apply:"Закрыть","week-1":"ПН","week-2":"ВТ","week-3":"СР","week-4":"ЧТ","week-5":"ПТ","week-6":"СБ","week-7":"ВС","month-name":["ЯНВАРЬ","ФЕВРАЛЬ","МАРТ","АПРЕЛЬ","МАЙ","ИЮНЬ","ИЮЛЬ","АВГУСТ","СЕНТЯБРЬ","ОКТЯБРЬ","НОЯБРЬ","ДЕКАБРЬ"],shortcuts:"Быстрый выбор",past:"Прошедшие",following:"Следующие",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"Неделя","prev-month":"Месяц","prev-year":"Год",next:"&nbsp;&nbsp;&nbsp;","next-week":"Неделя","next-month":"Месяц","next-year":"Год","less-than":"Диапазон не может быть больше %d дней","more-than":"Диапазон не может быть меньше %d дней","default-more":"Пожалуйста выберите диапазон больше %d дней","default-single":"Пожалуйста выберите дату","default-less":"Пожалуйста выберите диапазон меньше %d дней","default-range":"Пожалуйста выберите диапазон между %d и %d днями","default-default":"Пожалуйста выберите диапазон"},fr:{selected:"Sélection:",day:"Jour",days:"Jours",apply:"Fermer","week-1":"LU","week-2":"MA","week-3":"ME","week-4":"JE","week-5":"VE","week-6":"SA","week-7":"DI","month-name":["JANVIER","FÉVRIER","MARS","AVRIL","MAI","JUIN","JUILLET","AOÛT","SEPTEMBRE","OCTOBRE","NOVEMBRE","DÉCEMBRE"],shortcuts:"Raccourcis",past:"Passé",following:"Suivant",previous:"Précédent","prev-week":"Semaine","prev-month":"Mois","prev-year":"Année",next:"Suivant","next-week":"Semaine","next-month":"Mois","next-year":"Année","less-than":"L'intervalle ne doit pas être supérieure à %d jours","more-than":"L'intervalle ne doit pas être inférieure à %d jours","default-more":"Merci de choisir une intervalle supérieure à %d jours","default-single":"Merci de choisir une date","default-less":"Merci de choisir une intervalle inférieure %d jours","default-range":"Merci de choisir une intervalle comprise entre %d et %d jours","default-default":"Merci de choisir une date"}},void 0===window.moment?void(window.console&&window.console.warn&&window.console.warn("Please import moment.js before daterangepicker.js")):void(a.fn.dateRangePicker=function(b){function c(){function c(c){var d=a(c).parents("table").hasClass("month2"),e=d?b.month2:b.month1;e=C(e),!b.singleDate&&!d&&A(e,b.month2)>=0||I(e)||(u(e,d?"month2":"month1"),y())}function e(){var a=C(b.month1),c=C(b.month2);I(c)||!b.singleDate&&A(a,c)>=0||(u(a,"month1"),u(c,"month2"))}function f(c){var d=a(c).parents("table").hasClass("month2"),e=d?b.month2:b.month1;e=D(e),d&&A(e,b.month1)<=0||I(e)||(u(e,d?"month2":"month1"),y())}function g(){var a=D(b.month1),c=D(b.month2);I(a)||!b.singleDate&&A(c,a)<=0||(u(c,"month2"),u(a,"month1"))}var h=this;if(a(this).data("date-picker-opened"))return void z();a(this).data("date-picker-opened",!0),N=F().hide(),a(b.container).append(N),b.inline?N.addClass("inline-wrapper").css({position:"static"}):d(),b.alwaysOpen&&N.find(".apply-btn").hide();var i=b.defaultTime?b.defaultTime:new Date;b.lookBehind?(b.startDate&&A(i,b.startDate)<0&&(i=C(moment(b.startDate).toDate())),b.endDate&&A(i,b.endDate)>0&&(i=moment(b.endDate).toDate()),u(D(i),"month1"),u(i,"month2")):(b.startDate&&A(i,b.startDate)<0&&(i=moment(b.startDate).toDate()),b.endDate&&A(C(i),b.endDate)>0&&(i=D(moment(b.endDate).toDate())),u(i,"month1"),u(C(i),"month2")),b.time.enabled&&(b.startDate&&b.endDate||b.start&&b.end?(v(moment(b.start||b.startDate).toDate(),"time1"),v(moment(b.end||b.endDate).toDate(),"time2")):(v(i,"time1"),v(i,"time2")));var k="";k=M(b.singleDate?"default-single":b.minDays&&b.maxDays?"default-range":b.minDays?"default-more":b.maxDays?"default-less":"default-default"),N.find(".default-top").html(k.replace(/\%d/,b.minDays).replace(/\%d/,b.maxDays)),setTimeout(function(){P=!0},0),N.click(function(a){a.stopPropagation()}),a(document).bind("click.datepicker",z),N.find(".next").click(function(){b.stickyMonths?e(this):c(this)}),N.find(".prev").click(function(){b.stickyMonths?g(this):f(this)}),N.bind("click",function(b){a(b.target).hasClass("day")&&n(a(b.target))}),N.attr("unselectable","on").css("user-select","none").bind("selectstart",function(a){return a.preventDefault(),!1}),N.find(".apply-btn").click(function(){z();var c=x(new Date(b.start))+b.separator+x(new Date(b.end));a(h).trigger("datepicker-apply",{value:c,date1:new Date(b.start),date2:new Date(b.end)})}),N.find("[shortcut]").click(function(){var c,d,e,f,g,h,i,j,k,l=a(this).attr("shortcut"),m=new Date,n=a.trim(a(this).parent("span").attr("class").split("-")[0]),o=[1,-1][a.inArray(n,["next","prev"])];if(-1!==l.indexOf("day"))d=parseInt(l.split(",",2)[1],10),b.shortcuts["including-today"]&&(d>0?d--:d++,o=0),c=new Date((new Date).getTime()+864e5*d),m=new Date(m.getTime()+864e5*o);else if(-1!==l.indexOf("week")){for(f=-1!==l.indexOf("prev,")?-1:1,e=1===f?"monday"===b.startOfWeek?1:0:"monday"===b.startOfWeek?0:6,m=new Date(m.getTime()-864e5);m.getDay()!==e;)m=new Date(m.getTime()+864e5*f);c=new Date(m.getTime()+864e5*f*6)}else if(-1!==l.indexOf("month"))f=-1!==l.indexOf("prev,")?-1:1,c=1===f?C(m):D(m),c.setDate(1),m=C(c),m.setDate(1),m=new Date(m.getTime()-864e5);else if(-1!==l.indexOf("year"))f=-1!==l.indexOf("prev,")?-1:1,c=new Date,c.setFullYear(m.getFullYear()+f),c.setMonth(0),c.setDate(1),m.setFullYear(m.getFullYear()+f),m.setMonth(11),m.setDate(31);else if("custom"===l&&(h=a(this).html(),b.customShortcuts&&b.customShortcuts.length>0))for(g=0;g<b.customShortcuts.length;g++)if(i=b.customShortcuts[g],i.name===h){j=[],j=i.dates.call(),j&&2===j.length&&(c=j[0],m=j[1]),j&&1===j.length&&(k=j[0],u(k,"month1"),u(C(k),"month2"),y());break}c&&m&&(r(c,m),p())}),N.find(".time1 input[type=range]").bind("change mousemove",function(b){var c=b.target,d="hour"===c.name?a(c).val().replace(/^(\d{1})$/,"0$1"):void 0,e="minute"===c.name?a(c).val().replace(/^(\d{1})$/,"0$1"):void 0;j("time1",d,e)}),N.find(".time2 input[type=range]").bind("change mousemove",function(b){var c=b.target,d="hour"===c.name?a(c).val().replace(/^(\d{1})$/,"0$1"):void 0,e="minute"===c.name?a(c).val().replace(/^(\d{1})$/,"0$1"):void 0;j("time2",d,e)})}function d(){if(!b.inline){var c=a(Q).offset();if("relative"===a(b.container).css("position")){var d=a(b.container).offset();N.css({top:c.top-d.top+a(Q).outerHeight()+4,left:c.left-d.left})}else N.css(a(document).width()-c.left>560?{top:c.top+a(Q).outerHeight()+parseInt(a("body").css("border-top")||0,10),left:c.left}:{top:c.top+a(Q).outerHeight()+parseInt(a("body").css("border-top")||0,10),left:c.left+a(Q).width()-N.width()})}}function e(){return N}function f(a){d();var c=b.getValue.call(R),e=c?c.split(b.separator):"";if(e&&(1===e.length&&b.singleDate||e.length>=2)){var f=b.format;f.match(/Do/)&&(f=f.replace(/Do/,"D"),e[0]=e[0].replace(/(\d+)(th|nd|st)/,"$1"),e.length>=2&&(e[1]=e[1].replace(/(\d+)(th|nd|st)/,"$1"))),P=!1,e.length>=2?r(moment(e[0],f).toDate(),moment(e[1],f).toDate()):1===e.length&&b.singleDate&&s(moment(e[0],f).toDate()),P=!0}N.slideDown(a)}function g(a,b){N.find("."+a+" input[type=range].hour-range").val(moment(b).hours()),N.find("."+a+" input[type=range].minute-range").val(moment(b).minutes()),j(a,moment(b).format("HH"),moment(b).format("mm"))}function h(a,c){b[a]=parseInt(moment(parseInt(c,10)).startOf("day").add(moment(b[a+"Time"]).format("HH"),"h").add(moment(b[a+"Time"]).format("mm"),"m").valueOf(),10)}function i(){g("time1",b.start),g("time2",b.end)}function j(a,c,d){function e(a,e){var f=e.format("HH"),g=e.format("mm");b[a]=e.startOf("day").add(c||f,"h").add(d||g,"m").valueOf()}var f;switch(c&&N.find("."+a+" .hour-val").text(c),d&&N.find("."+a+" .minute-val").text(d),a){case"time1":b.start&&e("start",moment(b.start)),e("startTime",moment(b.startTime||moment().valueOf()));break;case"time2":b.end&&e("end",moment(b.end)),e("endTime",moment(b.endTime||moment().valueOf()))}b.singleDate||b.start&&b.end&&b.start>b.end&&(console.log("start > end"),f=b.start,b.start=b.end,b.end=f),p(),q(),t()}function k(){b.start=!1,b.end=!1,N.find(".day.checked").removeClass("checked"),N.find(".day.checked.frist-checked").removeClass("frist-checked"),N.find(".day.checked.last-checked").removeClass("last-checked"),b.setValue.call(R,""),p(),q(),t()}function l(a){var c=a;return"week-range"===b.batchMode?c="monday"===b.startOfWeek?moment(parseInt(a,10)).startOf("isoweek").valueOf():moment(parseInt(a,10)).startOf("week").valueOf():"month-range"===b.batchMode&&(c=moment(parseInt(a,10)).startOf("month").valueOf()),c}function m(a){var c=a;return"week-range"===b.batchMode?c="monday"===b.startOfWeek?moment(parseInt(a,10)).endOf("isoweek").valueOf():moment(parseInt(a,10)).endOf("week").valueOf():"month"===b.batchMode&&(c=moment(parseInt(a,10)).endOf("month").valueOf()),c}function n(a){if(!a.hasClass("invalid")){var c=a.attr("time");if(a.addClass("checked"),b.singleDate?(b.start=c,b.end=!1,b.time.enabled&&h("start",b.start)):"week"===b.batchMode?"monday"===b.startOfWeek?(b.start=moment(parseInt(c,10)).startOf("isoweek").valueOf(),b.end=moment(parseInt(c,10)).endOf("isoweek").valueOf()):(b.end=moment(parseInt(c,10)).endOf("week").valueOf(),b.start=moment(parseInt(c,10)).startOf("week").valueOf()):"month"===b.batchMode?(b.start=moment(parseInt(c,10)).startOf("month").valueOf(),b.end=moment(parseInt(c,10)).endOf("month").valueOf()):b.start&&b.end||!b.start&&!b.end?(b.start=l(c),b.end=!1,b.time.enabled&&h("start",b.start)):b.start&&(b.end=m(c),b.time.enabled&&h("end",b.end)),!b.singleDate&&b.start&&b.end&&b.start>b.end){var d=b.end;b.end=m(b.start),b.start=l(d),b.time.enabled&&i()}b.start=parseInt(b.start,10),b.end=parseInt(b.end,10),p(),q(),t(),o()}}function o(){b.singleDate===!0?P&&b.start&&b.autoClose&&z():P&&b.start&&b.end&&b.autoClose&&z()}function p(){var a=Math.ceil((b.end-b.start)/864e5)+1;b.singleDate?b.start&&!b.end?N.find(".drp_top-bar").removeClass("error").addClass("normal"):N.find(".drp_top-bar").removeClass("error").removeClass("normal"):b.maxDays&&a>b.maxDays?(b.start=!1,b.end=!1,N.find(".day").removeClass("checked"),N.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(M("less-than").replace("%d",b.maxDays))):b.minDays&&a<b.minDays?(b.start=!1,b.end=!1,N.find(".day").removeClass("checked"),N.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(M("more-than").replace("%d",b.minDays))):b.start||b.end?N.find(".drp_top-bar").removeClass("error").addClass("normal"):N.find(".drp_top-bar").removeClass("error").removeClass("normal"),b.singleDate&&b.start&&!b.end||!b.singleDate&&b.start&&b.end?N.find(".apply-btn").removeClass("disabled"):N.find(".apply-btn").addClass("disabled"),b.batchMode&&(b.start&&b.startDate&&B(b.start,b.startDate)<0||b.end&&b.endDate&&B(b.end,b.endDate)>0)&&(b.start=!1,b.end=!1,N.find(".day").removeClass("checked"))}function q(){var c;N.find(".start-day").html("..."),N.find(".end-day").html("..."),N.find(".selected-days").hide(),b.start&&N.find(".start-day").html(x(new Date(parseInt(b.start,10)))),b.end&&N.find(".end-day").html(x(new Date(parseInt(b.end,10)))),b.start&&b.singleDate?(N.find(".apply-btn").removeClass("disabled"),c=x(new Date(b.start)),b.setValue.call(R,c,x(new Date(b.start)),x(new Date(b.end))),P&&a(Q).trigger("datepicker-change",{value:c,date1:new Date(b.start)})):b.start&&b.end?(N.find(".selected-days").show().find(".selected-days-num").html(Math.round((b.end-b.start)/864e5)+1),N.find(".apply-btn").removeClass("disabled"),c=x(new Date(b.start))+b.separator+x(new Date(b.end)),b.setValue.call(R,c,x(new Date(b.start)),x(new Date(b.end))),P&&a(Q).trigger("datepicker-change",{value:c,date1:new Date(b.start),date2:new Date(b.end)})):N.find(".apply-btn").addClass("disabled")}function r(a,c){if(a.getTime()>c.getTime()){var d=c;c=a,a=d,d=null}var e=!0;return b.startDate&&B(a,b.startDate)<0&&(e=!1),b.endDate&&B(c,b.endDate)>0&&(e=!1),e?(b.start=a.getTime(),b.end=c.getTime(),(b.stickyMonths||B(a,c)>0&&0===A(a,c))&&(b.lookBehind?a=D(c):c=C(a)),b.stickyMonths&&A(c,b.endDate)>0&&(a=D(a),c=D(c)),b.stickyMonths||0===A(a,c)&&(b.lookBehind?a=D(c):c=C(a)),b.time.enabled&&(g("time1",a),g("time2",c)),u(a,"month1"),u(c,"month2"),y(),q(),void o()):(u(b.startDate,"month1"),u(C(b.startDate),"month2"),void y())}function s(a){var c=!0;return b.startDate&&B(a,b.startDate)<0&&(c=!1),b.endDate&&B(a,b.endDate)>0&&(c=!1),c?(b.start=a.getTime(),b.time.enabled&&g("time1",a),u(a,"month1"),y(),q(),void o()):void u(b.startDate,"month1")}function t(){(b.start||b.end)&&(N.find(".day").each(function(){var c=parseInt(a(this).attr("time"),10),d=b.start,e=b.end;b.time.enabled&&(c=moment(c).startOf("day").valueOf(),d=moment(d||moment().valueOf()).startOf("day").valueOf(),e=moment(e||moment().valueOf()).startOf("day").valueOf()),b.start&&b.end&&e>=c&&c>=d||b.start&&!b.end&&moment(d).format("YYYY-MM-DD")===moment(c).format("YYYY-MM-DD")?a(this).addClass("checked"):a(this).removeClass("checked")}),N.find(".day.checked").length>1&&(N.find(".day").removeClass("frist-checked").removeClass("last-checked"),N.find(".day.checked:eq(0)").addClass("frist-checked"),N.find(".day.checked:last").addClass("last-checked")))}function u(a,c){a=moment(a).toDate();var d=w(a.getMonth());N.find("."+c+" .month-name").html(d+" "+a.getFullYear()),N.find("."+c+" tbody").html(K(a)),b[c]=a}function v(a,b){N.find("."+b).append(E()),g(b,a)}function w(a){return M("month-name")[a]}function x(a){return moment(a).format(b.format)}function y(){t();var a=parseInt(moment(b.month1).format("YYYYMM"),10),c=parseInt(moment(b.month2).format("YYYYMM"),10),d=Math.abs(a-c),e=d>1&&89!==d;e?N.find(".gap").show():N.find(".gap").hide()}function z(){b.alwaysOpen||(a(N).slideUp(b.duration,function(){a(Q).data("date-picker-opened",!1)}),a(Q).trigger("datepicker-close"))}function A(a,b){var c=parseInt(moment(a).format("YYYYMM"),10)-parseInt(moment(b).format("YYYYMM"),10);return c>0?1:0===c?0:-1}function B(a,b){var c=parseInt(moment(a).format("YYYYMMDD"),10)-parseInt(moment(b).format("YYYYMMDD"),10);return c>0?1:0===c?0:-1}function C(a){a=moment(a).toDate();for(var b=a.getMonth();a.getMonth()===b;)a=new Date(a.getTime()+864e5);return a}function D(a){a=moment(a).toDate();for(var b=a.getMonth();a.getMonth()===b;)a=new Date(a.getTime()-864e5);return a}function E(){var a='<div><span>Time: <span class="hour-val">00</span>:<span class="minute-val">00</span></span></div><div class="hour"><label>Hour: <input type="range" class="hour-range" name="hour" min="0" max="23"></label></div><div class="minute"><label>Minute: <input type="range" class="minute-range" name="minute" min="0" max="59"></label></div>';return a}function F(){var c=['<div class="date-picker-wrapper'];if(b.singleDate&&c.push(" single-date"),b.showShortcuts||c.push(" no-shortcuts "),c.push('">','<div class="drp_top-bar">','<div class="normal-top">','<span style="color:#333">',M("selected"),' </span> <b class="start-day">...</b>'),b.singleDate||c.push(' <span class="separator-day">',b.separator,'</span> <b class="end-day">...</b> <i class="selected-days">(<span class="selected-days-num">3</span> ',M("days")+")</i>"),c.push("</div>",'<div class="error-top">error</div>','<div class="default-top">default</div>','<input type="button" class="apply-btn disabled '+G()+'" value="'+M("apply")+'" />',"</div>",'<div class="month-wrapper">','<table class="month1" cellspacing="0" border="0" cellpadding="0"><thead><tr class="caption"><th style="width:27px;"><span class="prev">&lt;</span></th><th colspan="5" class="month-name">January, 2011</th><th style="width:27px;"><span class="next">&gt;</span></th></tr><tr class="week-name">',H(),"</thead><tbody></tbody></table>"),b.singleDate||c.push('<div class="gap">'+J()+'</div><table class="month2" cellspacing="0" border="0" cellpadding="0"><thead><tr class="caption"><th style="width:27px;"><span class="prev">&lt;</span></th><th colspan="5" class="month-name">January, 2011</th><th style="width:27px;"><span class="next">&gt;</span></th></tr><tr class="week-name">'+H()+"</thead><tbody></tbody></table>"),c.push('<div style="clear:both;height:0;font-size:0;"></div><div class="time"><div class="time1"></div>'),b.singleDate||c.push('<div class="time2"></div>'),c.push('</div><div style="clear:both;height:0;font-size:0;"></div></div>'),b.showShortcuts){c.push('<div class="footer"><b>'+M("shortcuts")+"</b>");var d,e,f=b.shortcuts;if(f){if(f["prev-days"]&&f["prev-days"].length>0){for(c.push('&nbsp;<span class="prev-days">'+M("past")),d=0;d<f["prev-days"].length;d++)e=f["prev-days"][d],e+=M(f["prev-days"][d]>1?"days":"day"),c.push(' <a href="javascript:;" shortcut="day,-'+f["prev-days"][d]+'">'+e+"</a>");c.push("</span>")}if(f["next-days"]&&f["next-days"].length>0){for(c.push('&nbsp;<span class="next-days">'+M("following")),d=0;d<f["next-days"].length;d++)e=f["next-days"][d],e+=M(f["next-days"][d]>1?"days":"day"),c.push(' <a href="javascript:;" shortcut="day,'+f["next-days"][d]+'">'+e+"</a>");c.push("</span>")}if(f.prev&&f.prev.length>0){for(c.push('&nbsp;<span class="prev-buttons">'+M("previous")),d=0;d<f.prev.length;d++)e=M("prev-"+f.prev[d]),c.push(' <a href="javascript:;" shortcut="prev,'+f.prev[d]+'">'+e+"</a>");c.push("</span>")}if(f.next&&f.next.length>0){for(c.push('&nbsp;<span class="next-buttons">'+M("next")),d=0;d<f.next.length;d++)e=M("next-"+f.next[d]),c.push(' <a href="javascript:;" shortcut="next,'+f.next[d]+'">'+e+"</a>");c.push("</span>")}}if(b.customShortcuts)for(d=0;d<b.customShortcuts.length;d++){var g=b.customShortcuts[d];c.push('&nbsp;<span class="custom-shortcut"><a href="javascript:;" shortcut="custom">'+g.name+"</a></span>")}c.push("</div>")}return c.push("</div>"),a(c.join(""))}function G(){return b.autoClose===!0?"hide":""}function H(){return"monday"===b.startOfWeek?"<th>"+M("week-1")+"</th>\r\n                    <th>"+M("week-2")+"</th>\r\n                    <th>"+M("week-3")+"</th>\r\n                    <th>"+M("week-4")+"</th>\r\n                    <th>"+M("week-5")+"</th>\r\n                    <th>"+M("week-6")+"</th>\r\n                    <th>"+M("week-7")+"</th>":"<th>"+M("week-7")+"</th>\r\n                    <th>"+M("week-1")+"</th>\r\n                    <th>"+M("week-2")+"</th>\r\n                    <th>"+M("week-3")+"</th>\r\n                    <th>"+M("week-4")+"</th>\r\n                    <th>"+M("week-5")+"</th>\r\n                    <th>"+M("week-6")+"</th>"}function I(a){return a=moment(a),b.startDate&&a.endOf("month").isBefore(b.startDate)?!0:b.endDate&&a.startOf("month").isAfter(b.endDate)?!0:!1}function J(){for(var a=['<div class="gap-top-mask"></div><div class="gap-bottom-mask"></div><div class="gap-lines">'],b=0;20>b;b++)a.push('<div class="gap-line">\r\n                    <div class="gap-1"></div>\r\n                    <div class="gap-2"></div>\r\n                    <div class="gap-3"></div>\r\n                </div>');return a.push("</div>"),a.join("")}function K(a){a.setDate(1);var c,d,e,f,g,h,i,j,k,l,m=[],n=(new Date(a.getTime()-864e5),new Date),o=a.getDay();if(0===o&&"monday"===b.startOfWeek&&(o=7),o>0)for(c=o;c>0;c--)h=new Date(a.getTime()-864e5*c),f=!0,b.startDate&&B(h,b.startDate)<0&&(f=!1),b.endDate&&B(h,b.endDate)>0&&(f=!1),m.push({type:"lastMonth",day:h.getDate(),time:h.getTime(),valid:f});for(d=a.getMonth(),c=0;40>c;c++)e=moment(a).add(c,"days").toDate(),f=!0,b.startDate&&B(e,b.startDate)<0&&(f=!1),b.endDate&&B(e,b.endDate)>0&&(f=!1),m.push({type:e.getMonth()===d?"toMonth":"nextMonth",day:e.getDate(),time:e.getTime(),valid:f});for(g=[],j=0;6>j&&"nextMonth"!==m[7*j].type;j++){for(g.push("<tr>"),h=0;7>h;h++)i="monday"===b.startOfWeek?h+1:h,e=m[7*j+i],k=moment(e.time).format("L")===moment(n).format("L"),e.extraClass="",e.tooltip="",b.beforeShowDay&&"function"==typeof b.beforeShowDay&&(l=b.beforeShowDay(moment(e.time).toDate()),e.valid=l[0],e.extraClass=l[1]||"",e.tooltip=l[2]||"",""!==e.tooltip&&(e.extraClass+=" has-tooltip ")),g.push('<td><div time="'+e.time+'" title="'+e.tooltip+'" class="day '+e.type+" "+e.extraClass+" "+(e.valid?"valid":"invalid")+" "+(k?"real-today":"")+'">'+e.day+"</div></td>");g.push("</tr>")}return g.join("")}function L(){var c,d;if("auto"===b.language){if(c=navigator.language?navigator.language:navigator.browserLanguage,!c)return a.dateRangePickerLanguages.en;c=c.toLowerCase();for(d in a.dateRangePickerLanguages)if(-1!==c.indexOf(d))return a.dateRangePickerLanguages[d];return a.dateRangePickerLanguages.en}return b.language&&b.language in a.dateRangePickerLanguages?a.dateRangePickerLanguages[b.language]:a.dateRangePickerLanguages.en}function M(a){return a in O?O[a]:a}b||(b={}),b=a.extend(!0,{autoClose:!1,format:"YYYY-MM-DD",separator:" to ",language:"auto",startOfWeek:"sunday",getValue:function(){return a(this).val()},setValue:function(b){a(this).attr("readonly")||a(this).is(":disabled")||a(this).val(b)},startDate:!1,endDate:!1,time:{enabled:!1},minDays:0,maxDays:0,showShortcuts:!0,shortcuts:{"next-days":[3,5,7],next:["week","month","year"],"including-today":!0},customShortcuts:[],inline:!1,container:"body",alwaysOpen:!1,singleDate:!1,lookBehind:!1,batchMode:!1,duration:200,stickyMonths:!1,defaultTime:new Date,beforeShowDay:void 0},b),b.start=!1,b.end=!1,b.startDate&&"string"==typeof b.startDate&&(b.startDate=moment(b.startDate,b.format).toDate()),b.endDate&&"string"==typeof b.endDate&&(b.endDate=moment(b.endDate,b.format).toDate()),b.singleDate&&(b.showShortcuts=!1);var N,O=L(),P=!1,Q=this,R=a(Q).get(0);return a(this).unbind(".datepicker").bind("click.datepicker",function(c){var d=N.is(":visible");a(document).trigger("click.datepicker"),c.stopPropagation(),d||f(b.duration)}),c.call(this),b.alwaysOpen&&f(0),console.log(open),a(this).data("dateRangePicker",{setDateRange:function(a,c){"string"==typeof a&&"string"==typeof c&&(a=moment(a,b.format).toDate(),c=moment(c,b.format).toDate()),r(a,c)},clear:k,close:z,open:f,getDatePicker:e,destroy:function(){a(Q).unbind(".datepicker"),a(Q).data("dateRangePicker",""),N.remove(),a(window).unbind("resize.datepicker",d),a(document).unbind("click.datepicker",z)}}),a(window).bind("resize.datepicker",d),this})});